<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chilean Municipalities Information System Wrapper • sinimR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Chilean Municipalities Information System Wrapper">
<meta property="og:description" content="Access SINIM data and view it as data frames.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">sinimR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/robsalasco/sinimr/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div class="section level1">
<div class="page-header"><h1 id="sinimr-">sinimR <img src="reference/figures/sinimR_hexSticker.png" width="175" height="200" align="right"><a class="anchor" aria-label="anchor" href="#sinimr-"></a>
</h1></div>
<p>Chilean Municipalities Information System Wrapper</p>
<div class="section level3">
<h3 id="what-can-i-do-with-this">What can I do with this?<a class="anchor" aria-label="anchor" href="#what-can-i-do-with-this"></a>
</h3>
<p>This R package allows easy SINIM (<a href="http://sinim.gov.cl" class="external-link uri">http://sinim.gov.cl</a>) data retrieval what have advantages over the site:</p>
<ul>
<li>When you work with multiple variables or years it will be very useful for rapid analyses.</li>
<li>Fast ploting directly from data source using the included geometries.</li>
<li>Data download with or without monetary correction using a switch.</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robsalasco/sinimr" class="external-link">sinimr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">varcode</span> <span class="op">&lt;-</span> <span class="fl">882</span></span>
<span><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="va">varcode</span>, <span class="fl">2018</span>, </span>
<span>                 region <span class="op">=</span> <span class="fl">13</span>, </span>
<span>                 truevalue <span class="op">=</span> <span class="cn">T</span>, </span>
<span>                 geometry <span class="op">=</span> <span class="cn">T</span>, </span>
<span>                 auc <span class="op">=</span> <span class="cn">T</span>, </span>
<span>                 unit <span class="op">=</span> <span class="st">"limites"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>          palette <span class="op">=</span> <span class="st">"BuPu"</span>, </span>
<span>          border.col <span class="op">=</span> <span class="st">"white"</span>, </span>
<span>          border.alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>          lwd<span class="op">=</span><span class="fl">1</span>,</span>
<span>          style <span class="op">=</span> <span class="st">"jenks"</span>,</span>
<span>          title <span class="op">=</span> <span class="fu"><a href="reference/get_sinim_var_name.html">get_sinim_var_name</a></span><span class="op">(</span><span class="va">varcode</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_text.html" class="external-link">tm_text</a></span><span class="op">(</span><span class="st">"municipality"</span>, size <span class="op">=</span> <span class="fl">0.4</span>, style<span class="op">=</span><span class="st">"jenks"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_legend</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span>, legend.title.size <span class="op">=</span> <span class="fl">1</span>, legend.text.size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_compass.html" class="external-link">tm_compass</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"8star"</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">.85</span>, <span class="fl">.80</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_scale_bar.html" class="external-link">tm_scale_bar</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, text.size <span class="op">=</span> <span class="fl">0.75</span>, position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"right"</span>, <span class="st">"bottom"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_credits.html" class="external-link">tm_credits</a></span><span class="op">(</span><span class="st">"Fuente: Sistema Nacional de Información Municipal (SINIM), SUBDERE, Ministerio del Interior."</span>, position<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"bottom"</span><span class="op">)</span>, size<span class="op">=</span><span class="fl">0.55</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>legend.width<span class="op">=</span><span class="fl">1</span>,</span>
<span>            inner.margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.10</span>, <span class="fl">0.1</span><span class="op">)</span>, </span>
<span>            legend.format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text.separator <span class="op">=</span> <span class="st">"a"</span>, </span>
<span>                                 fun <span class="op">=</span> <span class="va">mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-2-1.png" width="576"></p>
</div>
<div class="section level3">
<h3 id="support">Support<a class="anchor" aria-label="anchor" href="#support"></a>
</h3>
<p>FONDECYT Regular 2016 Nº 1161417, ¿Quién es responsable del desarrollo local? Una geografía política del neoestructuralismo en “comunas de exportación” (Comisión Nacional de Investigación Científica y Tecnológica).</p>
</div>
<div class="section level3">
<h3 id="a-note-on-usage">A note on usage<a class="anchor" aria-label="anchor" href="#a-note-on-usage"></a>
</h3>
<p>When querying the API, please be respectful of the resources required to provide this data. Please retain the results for each request to avoid repeated requests for duplicate information.</p>
</div>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"robsalasco/sinimr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="how-do-i-use-it">How do I use it?<a class="anchor" aria-label="anchor" href="#how-do-i-use-it"></a>
</h3>
<p>sinimR comes with a small set of functions to deliver the content of SINIM’s webpage. To get a first glance of the categories of information what are available please use the <code><a href="reference/get_sinim_cats.html">get_sinim_cats()</a></code> command.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robsalasco/sinimr" class="external-link">sinimr</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/get_sinim_cats.html">get_sinim_cats</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $`-`</span></span>
<span><span class="co">#&gt;     variable code</span></span>
<span><span class="co">#&gt; 1 * SIM FIMU  539</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`01.  ADMINISTRACION Y FINANZAS MUNICIPALES`</span></span>
<span><span class="co">#&gt;                                             variable code</span></span>
<span><span class="co">#&gt; 1  A.1. PRESUPUESTO INICIAL Y VIGENTE MUNICIPAL (M$)  517</span></span>
<span><span class="co">#&gt; 2                       A. INGRESOS MUNICIPALES (M$)   21</span></span>
<span><span class="co">#&gt; 3                        B. INGRESOS MUNICIPALES (%)  191</span></span>
<span><span class="co">#&gt; 4                         C. GASTOS MUNICIPALES (M$)   22</span></span>
<span><span class="co">#&gt; 5                          D. GASTOS MUNICIPALES (%)  172</span></span>
<span><span class="co">#&gt; 6                              E. GASTOS EN PERSONAL  169</span></span>
<span><span class="co">#&gt; 7                      F. TRANSFERENCIAS E INVERSION  170</span></span>
<span><span class="co">#&gt; 8                   G. SERVICIOS BASICOS Y GENERALES  370</span></span>
<span><span class="co">#&gt; 9         I. TRANSFERENCIAS Y COMPENSACIONES SUBDERE  485</span></span>
<span><span class="co">#&gt; 10                    J. FONDO COMÚN MUNICIPAL (FCM)  508</span></span>
<span><span class="co">#&gt; 11                              K. GESTION MUNICIPAL  486</span></span>
<span><span class="co">#&gt; 12                                               L.    24</span></span>
<span><span class="co">#&gt; 13                                                M.  506</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`02.  RECURSOS HUMANOS MUNICIPAL`</span></span>
<span><span class="co">#&gt;                 variable code</span></span>
<span><span class="co">#&gt; 1  A. PERSONAL DE PLANTA  381</span></span>
<span><span class="co">#&gt; 2 B. PERSONAL A CONTRATA  382</span></span>
<span><span class="co">#&gt; 3         C. HONORARIOS   383</span></span>
<span><span class="co">#&gt; 4   D. OTROS INDICADORES  384</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`03.  EDUCACION MUNICIPAL`</span></span>
<span><span class="co">#&gt;                                     variable code</span></span>
<span><span class="co">#&gt; 1     A. ANTECEDENTES GENERALES DE EDUCACION   38</span></span>
<span><span class="co">#&gt; 2    B. ASISTENCIA Y MATRÍCULAS EN EDUCACION   32</span></span>
<span><span class="co">#&gt; 3                          C. RESULTADOS PSU   33</span></span>
<span><span class="co">#&gt; 4         D. INGRESOS EN EDUCACION MUNICIPAL   35</span></span>
<span><span class="co">#&gt; 5           E. GASTOS EN EDUCACION MUNICIPAL   36</span></span>
<span><span class="co">#&gt; 6    F. RECURSOS HUMANOS EN SECTOR EDUCACION   34</span></span>
<span><span class="co">#&gt; 7 G. ESTABLECIMIENTOS DE EDUCACION MUNICIPAL  379</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`04.  SALUD MUNICIPAL`</span></span>
<span><span class="co">#&gt;                             variable code</span></span>
<span><span class="co">#&gt; 1 A. ANTECEDENTES GENERALES DE SALUD   30</span></span>
<span><span class="co">#&gt; 2    B. COBERTURA EN SALUD MUNICIPAL   25</span></span>
<span><span class="co">#&gt; 3    C. INGRESOS  EN SALUD MUNICIPAL   26</span></span>
<span><span class="co">#&gt; 4       D. GASTOS EN SALUD MUNICIPAL   28</span></span>
<span><span class="co">#&gt; 5           E. RED ASISTENCIAL SALUD   31</span></span>
<span><span class="co">#&gt; 6       F. RECURSOS HUMANOS EN SALUD  362</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`05.  SOCIAL Y COMUNITARIA`</span></span>
<span><span class="co">#&gt;                                variable code</span></span>
<span><span class="co">#&gt; 1         A. INFORMACION ENCUESTA CASEN   47</span></span>
<span><span class="co">#&gt; 2 B. RED SOCIAL (SUBSIDIOS Y PENSIONES)   44</span></span>
<span><span class="co">#&gt; 3             C. INTERMEDIACION LABORAL   43</span></span>
<span><span class="co">#&gt; 4        D. ORGANIZACIONES COMUNITARIAS   46</span></span>
<span><span class="co">#&gt; 5                              E. BECAS  377</span></span>
<span><span class="co">#&gt; 6            F. PARTICIPACIÓN CIUDADANA  510</span></span>
<span><span class="co">#&gt; 7                       G. DISCAPACIDAD  512</span></span>
<span><span class="co">#&gt; 8              H. PREVENCIÓN DEL DELITO  511</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`06.  DESARROLLO Y GESTION TERRITORIAL`</span></span>
<span><span class="co">#&gt;                                     variable code</span></span>
<span><span class="co">#&gt; 1           A. CARACTERISTICAS TERRITORIALES   39</span></span>
<span><span class="co">#&gt; 2        B. SERVICIOS BASICOS A LA COMUNIDAD   41</span></span>
<span><span class="co">#&gt; 3                         C. INFRAESTRUCTURA   40</span></span>
<span><span class="co">#&gt; 4 D. CATASTRO PREDIOS Y VALORACION CATASTRAL  300</span></span>
<span><span class="co">#&gt; 5                           E. AREAS VERDES   376</span></span>
<span><span class="co">#&gt; 6    F. PLAN DE DESARROLLO COMUNAL (PLADECO)  304</span></span>
<span><span class="co">#&gt; 7                  G. PLAN REGULADOR COMUNAL   42</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`07.  CARACTERIZACION COMUNAL`</span></span>
<span><span class="co">#&gt;                       variable code</span></span>
<span><span class="co">#&gt; 1 A. GEOGRAFICO ADMINISTRATIVA   49</span></span>
<span><span class="co">#&gt; 2                 B. POBLACION   50</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`08.  GENERO`</span></span>
<span><span class="co">#&gt;                                           variable code</span></span>
<span><span class="co">#&gt; 1 A. DOTACION FUNCIONARIA Y PROFESIONAL DE MUJERES  262</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $`09. CEMENTERIO`</span></span>
<span><span class="co">#&gt;                      variable code</span></span>
<span><span class="co">#&gt; 1      1. INFORMACION GENERAL  516</span></span>
<span><span class="co">#&gt; 2 A. INGRESOS CEMENTERIO (M$)  456</span></span>
<span><span class="co">#&gt; 3   B. GASTOS CEMENTERIO (M$)  457</span></span></code></pre></div>
<p>Every category have a bunch of variables associated. Use the CODE number and the <code><a href="reference/get_sinim_vars.html">get_sinim_vars()</a></code> function to get them.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/get_sinim_vars.html">get_sinim_vars</a></span><span class="op">(</span><span class="fl">517</span><span class="op">)</span></span>
<span><span class="co">#&gt;                                                       variable unit code</span></span>
<span><span class="co">#&gt; 108                       Presupuesto Inicial Sector Municipal M$   4210</span></span>
<span><span class="co">#&gt; 109                     Presupuesto Inicial Gastos Municipales M$   4211</span></span>
<span><span class="co">#&gt; 110                       Presupuesto Vigente Sector Municipal M$   4212</span></span>
<span><span class="co">#&gt; 111                     Presupuesto Vigente Gastos Municpiales M$   4213</span></span>
<span><span class="co">#&gt; 112 Presupuesto Vigente Saldo Inicial de Caja Sector Municipal M$   4226</span></span>
<span><span class="co">#&gt; 113 Presupuesto Inicial Saldo Inicial de Caja sector Municipal M$   4441</span></span></code></pre></div>
<p>Finally, to obtain the data across municipalities use the code column and specify a year.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4210</span>, <span class="fl">4211</span><span class="op">)</span>, <span class="fl">2015</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   code  municipality year                               variable    value</span></span>
<span><span class="co">#&gt; 1 1101       IQUIQUE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES 35295076</span></span>
<span><span class="co">#&gt; 2 1107 ALTO HOSPICIO 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES 10263084</span></span>
<span><span class="co">#&gt; 3 1401  POZO ALMONTE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  7685704</span></span>
<span><span class="co">#&gt; 4 1402        CAMIÑA 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  1319970</span></span>
<span><span class="co">#&gt; 5 1403      COLCHANE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  2130495</span></span>
<span><span class="co">#&gt; 6 1404         HUARA 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  3267375</span></span></code></pre></div>
<p>By default the values are in <strong>miles de millones</strong> but it can be disabled using the <code>truevalue = T</code> switch.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4210</span>, <span class="fl">4211</span><span class="op">)</span>, <span class="fl">2015</span>, truevalue <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   code  municipality year                               variable       value</span></span>
<span><span class="co">#&gt; 1 1101       IQUIQUE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES 35295076000</span></span>
<span><span class="co">#&gt; 2 1107 ALTO HOSPICIO 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES 10263084000</span></span>
<span><span class="co">#&gt; 3 1401  POZO ALMONTE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  7685704000</span></span>
<span><span class="co">#&gt; 4 1402        CAMIÑA 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  1319970000</span></span>
<span><span class="co">#&gt; 5 1403      COLCHANE 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  2130495000</span></span>
<span><span class="co">#&gt; 6 1404         HUARA 2015 PRESUPUESTO INICIAL GASTOS MUNICIPALES  3267375000</span></span></code></pre></div>
<p>You can get multiple years too! use the command <code><a href="reference/get_sinim.html">get_sinim()</a></code> and add more years as in the example.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fl">880</span>, <span class="fl">2015</span><span class="op">:</span><span class="fl">2017</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   code  municipality year                           variable   value</span></span>
<span><span class="co">#&gt; 1 1101       IQUIQUE 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 3439830</span></span>
<span><span class="co">#&gt; 2 1107 ALTO HOSPICIO 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 7258188</span></span>
<span><span class="co">#&gt; 3 1401  POZO ALMONTE 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 1888333</span></span>
<span><span class="co">#&gt; 4 1402        CAMIÑA 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 1626482</span></span>
<span><span class="co">#&gt; 5 1403      COLCHANE 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 1156020</span></span>
<span><span class="co">#&gt; 6 1404         HUARA 2017 INGRESOS POR FONDO COMÚN MUNICIPAL 1406921</span></span></code></pre></div>
<p>The geometries are available in long format using the <code>geometry=T</code> argument. By default it uses the <strong>comunal</strong> geographies but the <strong>limite urbano censal</strong> is also available. The switches are <code>unit="comunas"</code> and <code>unit="limites"</code>. Note: Using <strong>limites</strong> not all features are available because some comunas are not related to urban zones. As shown in the example below you can obtain multiple years and variables in long format.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fl">882</span>, <span class="fl">2015</span><span class="op">:</span><span class="fl">2017</span>, geometry<span class="op">=</span><span class="cn">T</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 5 fields</span></span>
<span><span class="co">#&gt; geometry type:  MULTIPOLYGON</span></span>
<span><span class="co">#&gt; dimension:      XY</span></span>
<span><span class="co">#&gt; bbox:           xmin: -70.20924 ymin: -21.43871 xmax: -69.81985 ymax: -20.04854</span></span>
<span><span class="co">#&gt; geographic CRS: WGS 84</span></span>
<span><span class="co">#&gt;   code  municipality year                     variable    value</span></span>
<span><span class="co">#&gt; 1 1101       IQUIQUE 2016 INGRESOS PROPIOS (IPP Y FCM) 36638105</span></span>
<span><span class="co">#&gt; 2 1101       IQUIQUE 2015 INGRESOS PROPIOS (IPP Y FCM) 35186041</span></span>
<span><span class="co">#&gt; 3 1101       IQUIQUE 2017 INGRESOS PROPIOS (IPP Y FCM) 37924449</span></span>
<span><span class="co">#&gt; 4 1107 ALTO HOSPICIO 2017 INGRESOS PROPIOS (IPP Y FCM) 11377923</span></span>
<span><span class="co">#&gt; 5 1107 ALTO HOSPICIO 2016 INGRESOS PROPIOS (IPP Y FCM) 10913779</span></span>
<span><span class="co">#&gt; 6 1107 ALTO HOSPICIO 2015 INGRESOS PROPIOS (IPP Y FCM) 10705074</span></span>
<span><span class="co">#&gt;                         geometry</span></span>
<span><span class="co">#&gt; 1 MULTIPOLYGON (((-70.09894 -...</span></span>
<span><span class="co">#&gt; 2 MULTIPOLYGON (((-70.09894 -...</span></span>
<span><span class="co">#&gt; 3 MULTIPOLYGON (((-70.09894 -...</span></span>
<span><span class="co">#&gt; 4 MULTIPOLYGON (((-70.1095 -2...</span></span>
<span><span class="co">#&gt; 5 MULTIPOLYGON (((-70.1095 -2...</span></span>
<span><span class="co">#&gt; 6 MULTIPOLYGON (((-70.1095 -2...</span></span></code></pre></div>
<p>Another interesting feature is the possibility to subset by different contexts. e.g if you want the comunas of Antofagasta region this command is available. The command works with or without the presence of the geometry switch and other switches are avaiblable too <code>region</code>, <code>provincia</code> and <code>comuna</code> all working with codes.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fl">882</span>, <span class="fl">2015</span><span class="op">:</span><span class="fl">2017</span>, geometry<span class="op">=</span><span class="cn">T</span>, region<span class="op">=</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 5 fields</span></span>
<span><span class="co">#&gt; geometry type:  MULTIPOLYGON</span></span>
<span><span class="co">#&gt; dimension:      XY</span></span>
<span><span class="co">#&gt; bbox:           xmin: -70.62886 ymin: -25.40293 xmax: -68.0676 ymax: -22.4254</span></span>
<span><span class="co">#&gt; geographic CRS: WGS 84</span></span>
<span><span class="co">#&gt;   code municipality year                     variable    value</span></span>
<span><span class="co">#&gt; 1 2101  ANTOFAGASTA 2015 INGRESOS PROPIOS (IPP Y FCM) 50480057</span></span>
<span><span class="co">#&gt; 2 2101  ANTOFAGASTA 2017 INGRESOS PROPIOS (IPP Y FCM) 53481425</span></span>
<span><span class="co">#&gt; 3 2101  ANTOFAGASTA 2016 INGRESOS PROPIOS (IPP Y FCM) 53775528</span></span>
<span><span class="co">#&gt; 4 2102   MEJILLONES 2016 INGRESOS PROPIOS (IPP Y FCM)  7031571</span></span>
<span><span class="co">#&gt; 5 2102   MEJILLONES 2015 INGRESOS PROPIOS (IPP Y FCM)  6400071</span></span>
<span><span class="co">#&gt; 6 2102   MEJILLONES 2017 INGRESOS PROPIOS (IPP Y FCM)       NA</span></span>
<span><span class="co">#&gt;                         geometry</span></span>
<span><span class="co">#&gt; 1 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 2 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 3 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 4 MULTIPOLYGON (((-69.97002 -...</span></span>
<span><span class="co">#&gt; 5 MULTIPOLYGON (((-69.97002 -...</span></span>
<span><span class="co">#&gt; 6 MULTIPOLYGON (((-69.97002 -...</span></span></code></pre></div>
<p>You can get a subset too</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fl">882</span>, <span class="fl">2015</span><span class="op">:</span><span class="fl">2017</span>, geometry<span class="op">=</span><span class="cn">T</span>, region<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Simple feature collection with 6 features and 5 fields</span></span>
<span><span class="co">#&gt; geometry type:  MULTIPOLYGON</span></span>
<span><span class="co">#&gt; dimension:      XY</span></span>
<span><span class="co">#&gt; bbox:           xmin: -70.62886 ymin: -25.40293 xmax: -68.0676 ymax: -22.4254</span></span>
<span><span class="co">#&gt; geographic CRS: WGS 84</span></span>
<span><span class="co">#&gt;   code municipality year                     variable    value</span></span>
<span><span class="co">#&gt; 1 2101  ANTOFAGASTA 2016 INGRESOS PROPIOS (IPP Y FCM) 53775528</span></span>
<span><span class="co">#&gt; 2 2101  ANTOFAGASTA 2015 INGRESOS PROPIOS (IPP Y FCM) 50480057</span></span>
<span><span class="co">#&gt; 3 2101  ANTOFAGASTA 2017 INGRESOS PROPIOS (IPP Y FCM) 53481425</span></span>
<span><span class="co">#&gt; 4 2102   MEJILLONES 2016 INGRESOS PROPIOS (IPP Y FCM)  7031571</span></span>
<span><span class="co">#&gt; 5 2102   MEJILLONES 2015 INGRESOS PROPIOS (IPP Y FCM)  6400071</span></span>
<span><span class="co">#&gt; 6 2102   MEJILLONES 2017 INGRESOS PROPIOS (IPP Y FCM)       NA</span></span>
<span><span class="co">#&gt;                         geometry</span></span>
<span><span class="co">#&gt; 1 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 2 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 3 MULTIPOLYGON (((-70.60654 -...</span></span>
<span><span class="co">#&gt; 4 MULTIPOLYGON (((-69.97002 -...</span></span>
<span><span class="co">#&gt; 5 MULTIPOLYGON (((-69.97002 -...</span></span>
<span><span class="co">#&gt; 6 MULTIPOLYGON (((-69.97002 -...</span></span></code></pre></div>
<p>But where obtain the codes? a database is provided and you can filter it using the standard R functions.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">id_geo_census</span><span class="op">)</span></span>
<span><span class="co">#&gt;   code  municipality code.reg  nom.reg code.prov  nom.prov auc</span></span>
<span><span class="co">#&gt; 1 1101       IQUIQUE        1 TARAPACA        11   IQUIQUE   1</span></span>
<span><span class="co">#&gt; 2 1107 ALTO HOSPICIO        1 TARAPACA        11   IQUIQUE   1</span></span>
<span><span class="co">#&gt; 3 1401  POZO ALMONTE        1 TARAPACA        14 TAMARUGAL   0</span></span>
<span><span class="co">#&gt; 4 1402        CAMIÑA        1 TARAPACA        14 TAMARUGAL   0</span></span>
<span><span class="co">#&gt; 5 1403      COLCHANE        1 TARAPACA        14 TAMARUGAL   0</span></span>
<span><span class="co">#&gt; 6 1404         HUARA        1 TARAPACA        14 TAMARUGAL   0</span></span></code></pre></div>
<p>Related to variables if you don’t know what are you looking for use <code><a href="reference/search_sinim_vars.html">search_sinim_vars()</a></code>to get search results based on variable descriptions, names and groups.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/search_sinim_vars.html">search_sinim_vars</a></span><span class="op">(</span><span class="st">"cementerio"</span><span class="op">)</span></span>
<span><span class="co">#&gt;     code</span></span>
<span><span class="co">#&gt; 361 4140</span></span>
<span><span class="co">#&gt; 362 4141</span></span>
<span><span class="co">#&gt; 363 4406</span></span>
<span><span class="co">#&gt; 364 4407</span></span>
<span><span class="co">#&gt;                                                                                                                                   variable</span></span>
<span><span class="co">#&gt; 361                                                                                          Ingresos Cementerio (Ingreso Total Percibido)</span></span>
<span><span class="co">#&gt; 362                                                                                              Gastos Cementerio (Gasto Total Devengado)</span></span>
<span><span class="co">#&gt; 363                                                                                 ¿La Municipalidad o Corporación administra Cementerio?</span></span>
<span><span class="co">#&gt; 364 Si la Municipalidad o Corporación administra Cementerio, indique si tiene presupuesto propio. SI = presupuesto propio o independiente.</span></span>
<span><span class="co">#&gt;                                                                                                                                                                  description</span></span>
<span><span class="co">#&gt; 361                                                                                              Ingreso total percibido del sector Cementerio (clasificador presupuestario)</span></span>
<span><span class="co">#&gt; 362                                                                                                  Gastos total devengado sector Cementerio (clasificador presupuestario).</span></span>
<span><span class="co">#&gt; 363 Indica si la Municipalidad o Corporación administra o no Cementerio Municipal, ya sea con presupuesto propio o asociado a otro sector de la municipalidad o corporación.</span></span>
<span><span class="co">#&gt; 364                                             Indica si administra un presupuesto independiente o anexo a otro sector de la municipalidad, como Salud, Municipalidad, etc.</span></span>
<span><span class="co">#&gt;               area                     subarea unit</span></span>
<span><span class="co">#&gt; 361 09. CEMENTERIO A. INGRESOS CEMENTERIO (M$) M$  </span></span>
<span><span class="co">#&gt; 362 09. CEMENTERIO   B. GASTOS CEMENTERIO (M$) M$  </span></span>
<span><span class="co">#&gt; 363 09. CEMENTERIO      1. INFORMACION GENERAL S-N </span></span>
<span><span class="co">#&gt; 364 09. CEMENTERIO      1. INFORMACION GENERAL S-N</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<p>SINIM (Sistema Nacional de Información Municipal) by default applies a monetary correction to show current values of variables. The original values provided by municipalities are available using the <code>moncorr = F</code> switch. And if you want geographical identifiers like region or provincia you can apply them using <code>idgeo = T</code> switch.</p>
<div class="section level3">
<h3 id="other-example-plots">Other example plots<a class="anchor" aria-label="anchor" href="#other-example-plots"></a>
</h3>
<div class="section level4">
<h4 id="multiple-variable-faceted-plot">Multiple variable faceted plot<a class="anchor" aria-label="anchor" href="#multiple-variable-faceted-plot"></a>
</h4>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robsalasco/sinimr" class="external-link">sinimr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_sinim</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span>var <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3954</span>,<span class="fl">4174</span>,<span class="fl">880</span>,<span class="fl">1226</span>,<span class="fl">4251</span>,<span class="fl">4173</span><span class="op">)</span>, </span>
<span>                        year <span class="op">=</span> <span class="fl">2018</span>, </span>
<span>                        region <span class="op">=</span> <span class="fl">13</span>,</span>
<span>                        geometry <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                        truevalue <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                        auc <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                        unit <span class="op">=</span> <span class="st">"limites"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">data_sinim</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>          palette <span class="op">=</span> <span class="st">"BuPu"</span>, </span>
<span>          border.col <span class="op">=</span> <span class="st">"white"</span>, </span>
<span>          border.alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>          lwd<span class="op">=</span><span class="fl">1</span>,</span>
<span>          style <span class="op">=</span> <span class="st">"jenks"</span>,</span>
<span>          title <span class="op">=</span> <span class="st">"variable"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_text.html" class="external-link">tm_text</a></span><span class="op">(</span><span class="st">"municipality"</span>, size <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_style</a></span><span class="op">(</span><span class="st">"white"</span>, frame <span class="op">=</span> <span class="cn">T</span>, legend.title.size <span class="op">=</span> <span class="fl">1</span>, legend.width<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>inner.margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>            outer.margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>            design.mode<span class="op">=</span><span class="cn">F</span>,</span>
<span>            legend.format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text.separator <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>                                 fun <span class="op">=</span> <span class="va">mm</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_facets.html" class="external-link">tm_facets</a></span><span class="op">(</span>by<span class="op">=</span><span class="st">"variable"</span>, ncol <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-13-1.png" width="1440"></p>
</div>
<div class="section level4">
<h4 id="a-variable-in-multiple-years-using-facets">A variable in multiple years using facets<a class="anchor" aria-label="anchor" href="#a-variable-in-multiple-years-using-facets"></a>
</h4>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robsalasco/sinimr" class="external-link">sinimr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">880</span>, <span class="fl">882</span>, <span class="fl">1226</span><span class="op">)</span>,</span>
<span>                 <span class="fl">2016</span><span class="op">:</span><span class="fl">2018</span>, </span>
<span>                 region <span class="op">=</span> <span class="fl">13</span>,</span>
<span>                 truevalue <span class="op">=</span> <span class="cn">T</span>, </span>
<span>                 geometry <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                 auc <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                 unit <span class="op">=</span> <span class="st">"limites"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_fill</a></span><span class="op">(</span><span class="st">"value"</span>,</span>
<span>          palette<span class="op">=</span><span class="st">"BuPu"</span>, </span>
<span>          border.col <span class="op">=</span> <span class="st">"white"</span>, </span>
<span>          style <span class="op">=</span> <span class="st">"jenks"</span>, </span>
<span>          border.alpha <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>          lwd<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_text.html" class="external-link">tm_text</a></span><span class="op">(</span><span class="st">"municipality"</span>, size <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_legend</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"top"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_layout.html" class="external-link">tm_layout</a></span><span class="op">(</span>legend.width<span class="op">=</span><span class="fl">0.09</span>,</span>
<span>            inner.margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>            outer.margins <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span>, <span class="fl">0.01</span><span class="op">)</span>,</span>
<span>            legend.format <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>text.separator <span class="op">=</span> <span class="st">"a"</span>,</span>
<span>                                 fun <span class="op">=</span> <span class="va">mm</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_facets.html" class="external-link">tm_facets</a></span><span class="op">(</span>by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year"</span>,<span class="st">"variable"</span><span class="op">)</span>,<span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_polygons.html" class="external-link">tm_borders</a></span><span class="op">(</span>col <span class="op">=</span> <span class="st">'black'</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gran_santiago_plot</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-14-1.png" width="1728"></p>
</div>
<div class="section level4">
<h4 id="multiple-variables-and-years-using-geofacet">Multiple variables and years using geofacet<a class="anchor" aria-label="anchor" href="#multiple-variables-and-years-using-geofacet"></a>
</h4>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hafen/geofacet" class="external-link">geofacet</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/robsalasco/sinimr" class="external-link">sinimr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://zoo.R-Forge.R-project.org/" class="external-link">zoo</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://scales.r-lib.org" class="external-link">scales</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rpkgs.datanovia.com/ggpubr/" class="external-link">ggpubr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_sinim.html">get_sinim</a></span><span class="op">(</span><span class="fl">882</span>, <span class="fl">2002</span><span class="op">:</span><span class="fl">2018</span>,</span>
<span>                  region <span class="op">=</span> <span class="fl">13</span>,</span>
<span>                  moncorr <span class="op">=</span> <span class="cn">F</span>, </span>
<span>                  truevalue <span class="op">=</span> <span class="cn">T</span>,</span>
<span>                  auc <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">year</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">data</span><span class="op">$</span><span class="va">year</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu">as.yearmon</span><span class="op">(</span><span class="va">data</span><span class="op">$</span><span class="va">year</span>, <span class="st">"1-%y"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">reg13</span> <span class="op">&lt;-</span> <span class="fu">geogrid</span><span class="fu">::</span><span class="fu">read_polygons</span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/robsalasco/precenso_2016_geojson_chile/master/Extras/GRAN_SANTIAGO.geojson"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: 'geogrid::read_polygons' is deprecated.</span></span>
<span><span class="co">#&gt; Use 'sf::st_read' instead.</span></span>
<span><span class="co">#&gt; See help("Deprecated")</span></span>
<span><span class="co">#&gt; Reading layer `R13' from data source `https://raw.githubusercontent.com/robsalasco/precenso_2016_geojson_chile/master/Extras/GRAN_SANTIAGO.geojson' using driver `GeoJSON'</span></span>
<span><span class="co">#&gt; Simple feature collection with 37 features and 8 fields</span></span>
<span><span class="co">#&gt; geometry type:  POLYGON</span></span>
<span><span class="co">#&gt; dimension:      XY</span></span>
<span><span class="co">#&gt; bbox:           xmin: -70.84306 ymin: -33.65716 xmax: -70.43015 ymax: -33.31069</span></span>
<span><span class="co">#&gt; geographic CRS: WGS 84</span></span>
<span><span class="va">grd</span> <span class="op">&lt;-</span> <span class="fu">grid_auto</span><span class="op">(</span><span class="va">reg13</span>, seed <span class="op">=</span> <span class="fl">1</span>, names <span class="op">=</span> <span class="st">"NOM_COMUNA"</span>, codes <span class="op">=</span> <span class="st">"COMUNA"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#grid_preview(grd, label = "name_NOM_COMUNA")</span></span>
<span><span class="co">#grid_design(grd, label = "name_NOM_COMUNA")</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">data</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">value</span>, group<span class="op">=</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"steelblue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">facet_geo</span><span class="op">(</span><span class="op">~</span> <span class="va">municipality</span>, grid <span class="op">=</span> <span class="va">grd</span>, scales <span class="op">=</span> <span class="st">"free_y"</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_date.html" class="external-link">scale_x_date</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="fu"><a href="https://scales.r-lib.org/reference/dollar_format.html" class="external-link">dollar_format</a></span><span class="op">(</span>suffix <span class="op">=</span> <span class="st">""</span>, prefix <span class="op">=</span> <span class="st">"$"</span>, big.mark <span class="op">=</span> <span class="st">"."</span>, decimal.mark<span class="op">=</span><span class="st">","</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/unnamed-chunk-15-1.png" width="2304"></p>
</div>
</div>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"sinimr"</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; To cite package 'sinimr' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Roberto Salas (2019). sinimr: Chilean Municipalities Information</span></span>
<span><span class="co">#&gt;   System Wrapper. R package version 0.3.0.</span></span>
<span><span class="co">#&gt;   https://github.com/robsalasco/sinimr</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {sinimr: Chilean Municipalities Information System Wrapper},</span></span>
<span><span class="co">#&gt;     author = {Roberto Salas},</span></span>
<span><span class="co">#&gt;     year = {2019},</span></span>
<span><span class="co">#&gt;     note = {R package version 0.3.0},</span></span>
<span><span class="co">#&gt;     url = {https://github.com/robsalasco/sinimr},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<ul>
<li>Sistema Nacional de Información Municipal (SINIM), SUBDERE, Ministerio del Interior.</li>
</ul>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/robsalasco/sinimr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/robsalasco/sinimr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing sinimr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Roberto Salas <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9607-3930" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://saythanks.io/to/robsalasco" class="external-link"><img src="https://img.shields.io/badge/say-thanks-ff69b4.svg" alt="saythanks"></a></li>
<li><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=WDDLRUVD344XL&amp;currency_code=USD&amp;source=url" class="external-link"><img src="https://img.shields.io/badge/donate-paypal-green.svg" alt="Donate"></a></li>
<li><a href="https://github.com/robsalasco/sinimr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/robsalasco/sinimr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://codecov.io/github/robsalasco/sinimr?branch=master" class="external-link"><img src="https://img.shields.io/codecov/c/github/robsalasco/sinimr/master.svg" alt="CoverageStatus"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Roberto Salas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
